<html>
	<head>
    <link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">
    <script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src="semantic/semantic.min.js"></script>
    <title>Assignment 3-1 Write-up (xyuan195)</title>
	</head>
	<body>
  <div class="ui container">
    <div class="ui center aligned container">
      <br>
      <h1>Assignment 3-1 (Pathtracer 1) Write-up</h1>
      <h4>Author: Xiaoyuan Zhu (m195@berkeley.edu)</h4>
    </div>

    <h2>Overview</h2>
    <p>
      In this assignment, I practiced on how to perform ray tracing, global illumination, and adaptive sampling.
    </p>
    <p>
      Online version of this write-up is hosted at:
      <a href="https://cal-cs184-student.github.io/project-webpages-sp23-xyuan195/proj3-1/index.html">
        https://cal-cs184-student.github.io/project-webpages-sp23-xyuan195/proj3-1/index.html
      </a>
    </p>

    <h2>Tasks Breakdown</h2>

    <h3>Part 1: Ray Generation and Scene Intersection</h3>
    <h4>[Part 1] Walk Through on Implementation Details</h4>
    <p>

    </p>

    <h4>[Part 1] Explanation of the Triangle Intersection Algorithm</h4>
    <p>

    </p>

    <h4>[Part 1] Some Images with Normal Shading</h4>
    <p>

    </p>

    <h3>Part 2: Bounding Volume Hierarchy</h3>

    <h4>[Part 2] Walk Through on BVH Construction Algorithm</h4>
    <h4>[Part 2] Images with BVH Acceleration</h4>
    <h4>[Part 2] Rendering Time Comparison between with and without BVH Acceleration</h4>

    <h3>Part 3: Direct Illumination</h3>

    <h4>[Part 3] Walk Through on Implementations of the Direct Lighting Function</h4>
    <h4>[Part 3] Images with Both Implementations of the Direct Lighting Function</h4>
    <h4>[Part 3] Noise Comparison between Both Implementations of the Direct Lighting Function</h4>
    <h4>[Part 3] Comparison between Both Implementations of the Direct Lighting Function</h4>

    <h3>Part 4: Global Illumination</h3>

    <h4>[Part 4] Walk Through on Implementation of the Indirect Lighting Function</h4>
    <p>
      To support indirect lighting function, I first implemented <b>DiffuseBSDF::sample_f</b> function to take a sample
      by a given outgoing light direction, and store the sampled incoming light direction to variable <b>wi</b> and its
      pdf to variable <b>pdf</b>. To do this, I first call <b>sampler.get_sample()</b> to get a sample, and then plug it
      in function <b>f</b> in Part 3 (along with the outgoing light direction <b>wo</b>) to get the bsdf, which is the
      return value. But before I return this value directly, I copy the sampled Vector3D to the input <b>wi</b> parameter,
      and copy <b>1 / PI</b> to the input <b>pdf</b> parameter, so that they will be propagated to the caller. At last,
      I return the calculated <b>bsdf</b> value.
    </p>

    <h4>[Part 4] Images Rendered with Global Illumination</h4>
    <h4>[Part 4] Comparison between Direct and Indirect Illumination</h4>
    <h4>[Part 4] max_ray_depth Comparisons</h4>
    <h4>[Part 4] sample-per-pixel Comparisons</h4>
    <div class="ui info message">
      All below images are generated with Russian Roulette enabled.
    </div>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_1.png">
          <h5 class="ui center aligned container">1 Ray Sample Per Pixel</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_2.png">
          <h5 class="ui center aligned container">2 Ray Samples Per Pixel</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_4.png">
          <h5 class="ui center aligned container">4 Ray Samples Per Pixel</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_8.png">
          <h5 class="ui center aligned container">8 Ray Samples Per Pixel</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_64.png">
          <h5 class="ui center aligned container">64 Ray Samples Per Pixel</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part-4_spheres_1024.png">
          <h5 class="ui center aligned container">1024 Ray Samples Per Pixel</h5>
        </div>
      </div>
    </div>

    <h3>Part 5: Adaptive Sampling</h3>
    <h4>[Part 5] Explanation and Walk Through on Adaptive Sampling</h4>
    <h4>[Part 5] Images</h4>
    <br><br>
    <div class="ui right aligned container">
      <h5>
        Live version of this write-up is hosted at
        <a href="https://cal-cs184-student.github.io/project-webpages-sp23-xyuan195/proj3-1/index.html">
          https://cal-cs184-student.github.io/project-webpages-sp23-xyuan195/proj3-1/index.html
        </a>
      </h5>
      <br><br>
    </div>
  </div>
	</body>
</html>