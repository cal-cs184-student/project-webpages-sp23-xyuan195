<html>
  <head>
    <link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">
    <script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src="semantic/semantic.min.js"></script>
    <title>Assignment 4 Write-up (xyuan195)</title>
  </head>
	<body>
  <div class="ui container">
    <div class="ui center aligned container">
      <br>
      <h1>Assignment 4 Write-up</h1>
      <h4>Author: Xiaoyuan Zhu (m195@berkeley.edu)</h4>
    </div>

    <h2>Overview</h2>
    <p>
      In this assignment, I experimented the real-time simulation of cloth using a mass and spring based system. I also
      implemented self-collisions and collisions with other objects in the simulation. Finally, I experimented different
      shaders used in the simulation.
    </p>

    <h2>Tasks Breakdown</h2>

    <h3>Part 1: Masses and springs</h3>
    <h4>[Part 1] Overview</h4>
    <p>
      In this part, I built the grid using masses and springs. I started by building all masses, and pinning masses if
      necessary. Then I connect masses using springs with one of types: STRUCTURAL, SHEARING, or BENDING, based on different
      spring constraint rules.
    </p>

    <h4>[Part 1] Screenshots of scene/pinned2.json with wireframe</h4>
    <div class="ui column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part1_1.png">
          <h5 class="ui center aligned container">Screenshot 1</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part1_2.png">
          <h5 class="ui center aligned container">Screenshot 2</h5>
        </div>
      </div>
    </div>

    <h4>[Part 1] Screenshots of scene/pinned2.json with different parameters</h4>
    <div class="ui column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part1_wo_shearing.png">
          <h5 class="ui center aligned container">Screenshot of scene/pinned2.json without shearing</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part1_only_shearing.png">
          <h5 class="ui center aligned container">Screenshot of scene/pinned2.json with only shearing</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part1_all.png">
          <h5 class="ui center aligned container">Screenshot of scene/pinned2.json with all constraints</h5>
        </div>
      </div>
    </div>

    <h3>Part 2: Simulation via numerical integration</h3>
    <h4>[Part 2] Overview</h4>
    <p>
      In this part, I implemented Verlet integration to perform the simulation. I first calculated the total force acting
      on the object via Newton's 2nd Law. And then I used Verlet integration to compute new point mass positions. Finally,
      I perform constraint position updates.
    </p>

    <h4>[Part 2] Parameter tuning</h4>
    <p>
      "ks" is the spring constant. It defines how "stiff" the strings are. Smaller ks will make the cloth look very soft,
      while bigger ks will make the cloth look strong. Please see the comparison screenshots below.
    </p>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part2_ks_100.png">
          <h5 class="ui center aligned container">ks is 100</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part2_ks_99999.png">
          <h5 class="ui center aligned container">ks is 99999</h5>
        </div>
      </div>
    </div>

    <br />
    <p>
      "density" defines how dense the masses are. The bigger density value will make the masses "heavier".
      Please see the comparison screenshots below.
    </p>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part2_density_3.png">
          <h5 class="ui center aligned container">density is 3</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part2_density_9999.png">
          <h5 class="ui center aligned container">density is 9999</h5>
        </div>
      </div>
    </div>

    <br />
    <p>
      "damping" defines how easy to lose energy due to friction. The bigger damping value indicates it's hard to lose
      energy caused by friction, so the cloth will look smoother. Please see the comparison screenshots below.
    </p>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part2_damping_small.png">
          <h5 class="ui center aligned container">damping is small (0.022989%)</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part2_damping_large.png">
          <h5 class="ui center aligned container">damping is large (1%)</h5>
        </div>
      </div>
    </div>

    <h4>[Part 2] Screenshots of scene/pinned4.json</h4>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part2_4_1.png">
          <h5 class="ui center aligned container">Screenshot 1 of final state of scene/pinned4.json</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part2_4_2.png">
          <h5 class="ui center aligned container">Screenshot 2 of final state of scene/pinned4.json</h5>
        </div>
      </div>
    </div>


    <h3>Part 3: Handling collisions with other objects</h3>
    <h4>[Part 3] Overview</h4>
    <p>
      In this part, I implemented collisions with objects in simulation. I implemented two different objects: spheres and
      planes.
    </p>

    <h4>[Part 3] Screenshots of scene/sphere.json</h4>
    <p>
      Please see below screenshots of "scene/sphere.json" with different ks values. "ks" is the spring constant. It
      defines how "strong" the strings are. The bigger the "ks" value is, the stronger the cloth will look like and it
      will look harder to bend.
    </p>
    <div class="ui column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part3_ks_5000.png">
          <h5 class="ui center aligned container">ks = 5000</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part3_ks_500.png">
          <h5 class="ui center aligned container">ks = 500</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part3_ks_50000.png">
          <h5 class="ui center aligned container">ks = 50000</h5>
        </div>
      </div>
    </div>
    <h4>[Part 3] Screenshots of scene/plane.json</h4>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part3_plane_mirror.png">
          <h5 class="ui center aligned container">Plane with mirror appearance</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part3_plane_texture.png">
          <h5 class="ui center aligned container">Plane with texture appearance</h5>
        </div>
      </div>
    </div>

    <h3>Part 4: Handling self-collisions</h3>
    <h4>[Part 4] Overview</h4>
    <p>
      In this part, I implemented self-collisions using spatial hashing.
    </p>

    <h4>[Part 4] Screenshots of cloth fall</h4>
    <div class="ui column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part4_beginning.png">
          <h5 class="ui center aligned container">Beginning</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part4_middle.png">
          <h5 class="ui center aligned container">Fall in the middle</h5>
        </div>
      </div>
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part4_end.png">
          <h5 class="ui center aligned container">End</h5>
        </div>
      </div>
    </div>

    <h4>[Part 4] Parameters tuning</h4>
    <p>
      "density" defines how dense the masses are. The bigger density value will make the masses "heavier". So the cloth
      is hard to fold. Please see the comparison screenshots below.
    </p>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part4_density_3.png">
          <h5 class="ui center aligned container">density = 3</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part4_density_9999.png">
          <h5 class="ui center aligned container">density = 9999</h5>
        </div>
      </div>
    </div>
    <br />
    <p>
      "ks" defines how stiff the strings are. The smaller ks value will make the cloth
      hard to fold. Please see the comparison screenshots below.
    </p>
    <div class="ui two column grid">
      <div class="row">
        <div class="column ui segment">
          <img src="./assets/part4_ks_5.png">
          <h5 class="ui center aligned container">ks = 5</h5>
        </div>
        <div class="column ui segment">
          <img src="./assets/part4_ks_99999.png">
          <h5 class="ui center aligned container">ks = 99999</h5>
        </div>
      </div>
    </div>

    <h3>Part 5: Shaders</h3>

  </div>
	</body>
</html>